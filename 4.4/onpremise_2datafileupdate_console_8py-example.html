<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Device Detection Python: onpremise/datafileupdate_console.py</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="../../documentation/4.4/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees Device Detection Python
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">Device Detection services for 51Degrees Pipeline</div>
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('onpremise_2datafileupdate_console_8py-example.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="g-docs__header">
<h2 class="g-docs__page-title">onpremise/datafileupdate_console.py</h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<p>This example illustrates various parameters that can be adjusted when using the on-premise device detection engine, and controls when a new data file is sought and when it is loaded by the device detection software. Three main aspects are demonstrated:</p><ul>
<li>Update on Start-Up</li>
<li>Filesystem Watcher</li>
<li>Daily auto-update</li>
</ul>
<h2>License Key</h2>
<p>In order to test this example you will need a 51Degrees Enterprise license which can be purchased from our <a href="//51degrees.com/pricing/annual">pricing page</a>. Look for our "Bigger" or "Biggest" options.</p>
<h1 class="g-docs__section-heading">Data Files</h1>
<p>You can find out more about data files, licenses etc. at our <a href="//51degrees.com/resources/faqs">FAQ page</a></p>
<h2>Enterprise Data File</h2>
<p>Enterprise (fully-featured) data files are typically released by 51Degrees four days a week (Mon-Thu) and on-premise deployments can fetch and download those files automatically. Equally, customers may choose to download the files themselves and move them into place to be detected by the 51Degrees filesystem watcher.</p>
<h3>Manual Download</h3>
<p>If you prefer to download files yourself, you may do so here: </p><div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;https://distributor.51degrees.com/api/v2/download?LicenseKeys=&lt;your_license_key&gt;&amp;Type=27&amp;Download=<span class="c-code__keyword">True</span>&amp;Product=22</div></div><h2>Lite Data File</h2>
<p>Lite data files (free-to-use, limited capabilities, no license key required) are created roughly once a month and cannot be updated using auto-update, they may be downloaded from <a href="https://github.com/51Degrees/device-detection-data">Github</a> and are included with source distributions of this software.</p>
<h1 class="g-docs__section-heading">Update on Start-Up</h1>
<p>You can configure the pipeline builder to download an Enterprise data file on start-up. </p><h2>Pre-Requisites</h2>
<ul>
<li>a license key</li>
<li>a file location for the download<ul>
<li>this may be an existing file - which will be overwritten</li>
<li>or if it does not exist must end in ".hash" and must be in an existing directory <h2>Configuration</h2>
</li>
</ul>
</li>
<li>the pipeline must be configured to use a temp file <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;create_temp_copy = <span class="c-code__keyword">True</span>,</div></div></li>
<li>a DataFileUpdateService must be supplied <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;    update_event = UpdateEvent()</div><div class="c-code__line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    update_service = DataFileUpdateService()</div><div class="c-code__line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    update_service.on_complete(<span class="c-code__keyword">lambda</span> status, file: update_event.set(status))</div><div class="c-code__line"><a name="l00004"></a><span class="lineno">    4</span>&#160;...</div><div class="c-code__line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    data_file_update_service = update_service,</div></div></li>
<li>update on start-up must be specified, which will cause pipeline creation to block until a file is downloaded <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;update_on_start = <span class="c-code__keyword">True</span>,</div></div></li>
</ul>
<h1 class="g-docs__section-heading">File System Watcher</h1>
<p>You can configure the pipeline builder to watch for changes to the currently loaded device detection data file, and to replace the file currently in use with the new one. This is useful, for example, if you wish to download and update the device detection file "manually" - i.e. you would download it then drop it into place with the same path as the currently loaded file. That location is checked periodically (by default every 30 mins) and this frequency can be configured.</p>
<h2>Pre-Requisites</h2>
<ul>
<li>a license key</li>
<li>the file location of the existing file <h2>Configuration</h2>
</li>
</ul>
<ul>
<li>the pipeline must be configured to use a temp file <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;create_temp_copy = <span class="c-code__keyword">True</span>,</div></div></li>
<li>a DataFileUpdateService must be supplied <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;    update_event = UpdateEvent()</div><div class="c-code__line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    update_service = DataFileUpdateService()</div><div class="c-code__line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    update_service.on_complete(<span class="c-code__keyword">lambda</span> status, file: update_event.set(status))</div><div class="c-code__line"><a name="l00004"></a><span class="lineno">    4</span>&#160;...</div><div class="c-code__line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    data_file_update_service = update_service,</div></div></li>
<li>configure the frequency with which the location is checked, in seconds (10 mins as shown) <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;polling_interval = (10*60),</div></div></li>
</ul>
<h2>Daily auto-update</h2>
<p>Enterprise data files are usually created four times a week. Each data file contains a date for when the next data file is expected. You can configure the pipeline so that it starts looking for a newer data file after that time, by connecting to the 51Degrees distributor to see if an update is available. If one is, then it is downloaded and will replace the existing device detection file, which is currently in use.</p>
<h2>Pre-Requisites</h2>
<ul>
<li>a license key</li>
<li>the file location of the existing file <h2>Configuration</h2>
</li>
</ul>
<ul>
<li>the pipeline must be configured to use a temp file <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;create_temp_copy = <span class="c-code__keyword">True</span>,</div></div></li>
<li>a DataFileUpdateService must be supplied <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;    update_event = UpdateEvent()</div><div class="c-code__line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    update_service = DataFileUpdateService()</div><div class="c-code__line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    update_service.on_complete(<span class="c-code__keyword">lambda</span> status, file: update_event.set(status))</div><div class="c-code__line"><a name="l00004"></a><span class="lineno">    4</span>&#160;...</div><div class="c-code__line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    data_file_update_service = update_service,</div></div></li>
<li>Set the frequency in seconds that the pipeline should check for updates to data files. A recommended polling interval in a production environment is around 30 minutes. <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;polling_interval = (10*60),</div></div></li>
<li>Set the max amount of time in seconds that should be added to the polling interval. This is useful in datacenter applications where multiple instances may be polling for updates at the same time. A recommended ammount in production environments is 600 seconds. <div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;update_time_maximum_randomisation = (10*60),</div></div></li>
</ul>
<h1 class="g-docs__section-heading">Location</h1>
<p>This example is available in full on <a href="https://github.com/51Degrees/device-detection-python/blob/main/fiftyone_devicedetection_examples/fiftyone_devicedetection_examples/onpremise/datafileupdate_console.py">GitHub</a>.</p>
<p>
<p>This example requires a subscription to 51Degrees Device Data, a subscription can be acquired 
from the 51Degrees <a href="https://51degrees.com/pricing">pricing page</a>.</p>
</p>
<h1 class="g-docs__section-heading">Required PyPi Dependencies:</h1>
<ul>
<li><a class="el" href="namespacefiftyone__devicedetection.html">fiftyone_devicedetection</a></li>
</ul>
<div class="c-code__block c-code__block--outline"><div class="c-code__line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="c-code__comment"># *********************************************************************</span></div><div class="c-code__line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="c-code__comment"># This Original Work is copyright of 51 Degrees Mobile Experts Limited.</span></div><div class="c-code__line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="c-code__comment"># Copyright 2023 51 Degrees Mobile Experts Limited, Davidson House,</span></div><div class="c-code__line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="c-code__comment"># Forbury Square, Reading, Berkshire, United Kingdom RG1 3EU.</span></div><div class="c-code__line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="c-code__comment">#</span></div><div class="c-code__line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="c-code__comment"># This Original Work is licensed under the European Union Public Licence</span></div><div class="c-code__line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="c-code__comment"># (EUPL) v.1.2 and is subject to its terms as set out below.</span></div><div class="c-code__line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="c-code__comment">#</span></div><div class="c-code__line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="c-code__comment"># If a copy of the EUPL was not distributed with this file, You can obtain</span></div><div class="c-code__line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="c-code__comment"># one at https://opensource.org/licenses/EUPL-1.2.</span></div><div class="c-code__line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="c-code__comment">#</span></div><div class="c-code__line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="c-code__comment"># The &#39;Compatible Licences&#39; set out in the Appendix to the EUPL (as may be</span></div><div class="c-code__line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="c-code__comment"># amended by the European Commission) shall be deemed incompatible for</span></div><div class="c-code__line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="c-code__comment"># the purposes of the Work and the provisions of the compatibility</span></div><div class="c-code__line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="c-code__comment"># clause in Article 5 of the EUPL shall not apply.</span></div><div class="c-code__line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="c-code__comment">#</span></div><div class="c-code__line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="c-code__comment"># If using the Work as, or as part of, a network application, by</span></div><div class="c-code__line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="c-code__comment"># including the attribution notice(s) required under Article 5 of the EUPL</span></div><div class="c-code__line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="c-code__comment"># in the end user terms of the application under an appropriate heading,</span></div><div class="c-code__line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="c-code__comment"># such notice(s) shall fulfill the requirements of that article.</span></div><div class="c-code__line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="c-code__comment"># ********************************************************************* </span></div><div class="c-code__line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="c-code__line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="c-code__line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="c-code__line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="c-code__keyword">import</span> os</div><div class="c-code__line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="c-code__keyword">import</span> shutil</div><div class="c-code__line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="c-code__keyword">import</span> sys</div><div class="c-code__line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="c-code__keyword">import</span> threading</div><div class="c-code__line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="c-code__keyword">from</span> datetime <span class="c-code__keyword">import</span> datetime</div><div class="c-code__line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="c-code__line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="c-code__keyword">from</span> <a class="code" href="namespacefiftyone__devicedetection_1_1devicedetection__pipelinebuilder.html">fiftyone_devicedetection.devicedetection_pipelinebuilder</a> <span class="c-code__keyword">import</span> DeviceDetectionPipelineBuilder</div><div class="c-code__line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="c-code__keyword">from</span> <a class="code" href="namespacefiftyone__devicedetection__examples_1_1example__utils.html">fiftyone_devicedetection_examples.example_utils</a> <span class="c-code__keyword">import</span> ExampleUtils</div><div class="c-code__line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="c-code__keyword">from</span> <a class="code" href="namespacefiftyone__devicedetection__shared_1_1key__utils.html">fiftyone_devicedetection_shared.key_utils</a> <span class="c-code__keyword">import</span> KeyUtils</div><div class="c-code__line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="c-code__keyword">from</span> fiftyone_pipeline_core.logger <span class="c-code__keyword">import</span> Logger</div><div class="c-code__line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="c-code__keyword">from</span> <a class="code" href="namespacefiftyone__devicedetection__shared_1_1example__constants.html">fiftyone_devicedetection_shared.example_constants</a> <span class="c-code__keyword">import</span> ENTERPRISE_DATAFILE_NAME</div><div class="c-code__line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="c-code__keyword">from</span> fiftyone_pipeline_engines.datafile_update_service <span class="c-code__keyword">import</span> DataFileUpdateService</div><div class="c-code__line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="c-code__keyword">from</span> fiftyone_pipeline_engines.datafile_update_service <span class="c-code__keyword">import</span> UpdateStatus</div><div class="c-code__line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="c-code__line"><a name="l00173"></a><span class="lineno">  173</span>&#160;UPDATE_EXAMPLE_LICENSE_KEY_NAME = <span class="c-code__stringliteral">&quot;license_key&quot;</span></div><div class="c-code__line"><a name="l00174"></a><span class="lineno">  174</span>&#160;DEFAULT_DATA_FILENAME = os.path.expanduser(<span class="c-code__stringliteral">&quot;~&quot;</span>) + os.path.sep +  ENTERPRISE_DATAFILE_NAME</div><div class="c-code__line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="c-code__line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="c-code__line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="c-code__keyword">class </span>UpdateEvent(threading.Event):</div><div class="c-code__line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="c-code__keyword">def </span>__init__(self):</div><div class="c-code__line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        self.status = <span class="c-code__keywordtype">None</span></div><div class="c-code__line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        super().__init__()</div><div class="c-code__line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="c-code__line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="c-code__keyword">def </span>set(self, status):</div><div class="c-code__line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        super().set()</div><div class="c-code__line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        self.status = status</div><div class="c-code__line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="c-code__line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="c-code__keyword">def </span>clear(self):</div><div class="c-code__line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        self.status = <span class="c-code__keywordtype">None</span></div><div class="c-code__line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        super().clear()</div><div class="c-code__line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="c-code__line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="c-code__keyword">class </span>DataFileUpdateConsole():</div><div class="c-code__line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="c-code__keyword">def </span><a class="code" href="namespacefiftyone__devicedetection__examples_1_1onpremise_1_1performance.html#a78b63f027c93544e4a7174f8b56d0a03">run</a>(self, data_file, license_key, interactive, logger, output):</div><div class="c-code__line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        logger.log(<span class="c-code__stringliteral">&quot;info&quot;</span>, <span class="c-code__stringliteral">&quot;Starting example&quot;</span>)</div><div class="c-code__line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="c-code__line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="c-code__comment"># try to find a license key</span></div><div class="c-code__line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="c-code__keywordflow">if</span> (license_key == <span class="c-code__keywordtype">None</span>):</div><div class="c-code__line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            license_key = KeyUtils.get_named_key(UPDATE_EXAMPLE_LICENSE_KEY_NAME)</div><div class="c-code__line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="c-code__line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="c-code__keywordflow">if</span> (license_key == <span class="c-code__keywordtype">None</span> <span class="c-code__keywordflow">or</span> KeyUtils.is_invalid_key(license_key)):</div><div class="c-code__line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            logger.log(<span class="c-code__stringliteral">&quot;error&quot;</span>,</div><div class="c-code__line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                <span class="c-code__stringliteral">&quot;In order to test this example you will need a 51Degrees Enterprise &quot;</span></div><div class="c-code__line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="c-code__stringliteral">&quot;license which can be obtained on a trial basis or purchased from our\n&quot;</span></div><div class="c-code__line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="c-code__stringliteral">&quot;pricing page http://51degrees.com/pricing. You must supply the license &quot;</span></div><div class="c-code__line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="c-code__stringliteral">&quot;key as an argument to this program, or as an environment or system variable &quot;</span></div><div class="c-code__line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                f<span class="c-code__stringliteral">&quot;named &#39;{UPDATE_EXAMPLE_LICENSE_KEY_NAME}&#39;&quot;</span>)</div><div class="c-code__line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="c-code__keywordflow">raise</span> Exception(<span class="c-code__stringliteral">&quot;No license key available&quot;</span>)</div><div class="c-code__line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="c-code__line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="c-code__comment"># work out where the downloaded file will be put, directory must exist</span></div><div class="c-code__line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="c-code__keywordflow">if</span> (data_file != <span class="c-code__keywordtype">None</span>):</div><div class="c-code__line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="c-code__keywordflow">try</span>:</div><div class="c-code__line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                data_file = ExampleUtils.find_file(data_file)</div><div class="c-code__line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="c-code__keywordflow">except</span>:</div><div class="c-code__line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="c-code__keywordflow">if</span> (os.path.exists(os.path.dirname(data_file)) == <span class="c-code__keyword">False</span>):</div><div class="c-code__line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    logger.log(<span class="c-code__stringliteral">&quot;error&quot;</span>,</div><div class="c-code__line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        <span class="c-code__stringliteral">&quot;The directory must exist when specifying a location for a new &quot;</span></div><div class="c-code__line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        f<span class="c-code__stringliteral">&quot;file to be downloaded. Path specified was &#39;{data_file}&#39;&quot;</span>)</div><div class="c-code__line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="c-code__keywordflow">raise</span> Exception(<span class="c-code__stringliteral">&quot;Directory for new file must exist&quot;</span>)</div><div class="c-code__line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            logger.log(<span class="c-code__stringliteral">&quot;warning&quot;</span>,</div><div class="c-code__line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                f<span class="c-code__stringliteral">&quot;File {data_file} not found, a file will be downloaded to that location on &quot;</span></div><div class="c-code__line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="c-code__stringliteral">&quot;start-up&quot;</span>)</div><div class="c-code__line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="c-code__line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="c-code__comment"># no filename specified use the default</span></div><div class="c-code__line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="c-code__keywordflow">if</span> (data_file == <span class="c-code__keywordtype">None</span>):</div><div class="c-code__line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            data_file = os.path.realpath(DEFAULT_DATA_FILENAME)</div><div class="c-code__line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            logger.log(<span class="c-code__stringliteral">&quot;warning&quot;</span>,</div><div class="c-code__line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                f<span class="c-code__stringliteral">&quot;No filename specified. Using default &#39;{data_file}&#39; which will be downloaded to &quot;</span></div><div class="c-code__line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="c-code__stringliteral">&quot;that location on start-up, if it does not exist already&quot;</span>)</div><div class="c-code__line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="c-code__line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        copy_data_file_name = data_file + <span class="c-code__stringliteral">&quot;.bak&quot;</span></div><div class="c-code__line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="c-code__keywordflow">if</span> (os.path.exists(data_file)):</div><div class="c-code__line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="c-code__comment"># let&#39;s check this file out</span></div><div class="c-code__line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            pipeline = DeviceDetectionPipelineBuilder(</div><div class="c-code__line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                data_file_path = data_file,</div><div class="c-code__line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                performance_profile = <span class="c-code__stringliteral">&quot;LowMemory&quot;</span>,</div><div class="c-code__line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                usage_sharing = <span class="c-code__keyword">False</span>,</div><div class="c-code__line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                auto_update = <span class="c-code__keyword">False</span>,</div><div class="c-code__line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                licence_keys = <span class="c-code__stringliteral">&quot;&quot;</span>).add_logger(logger).<a class="code" href="namespacebuild.html">build</a>()</div><div class="c-code__line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="c-code__line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="c-code__comment"># and output the results</span></div><div class="c-code__line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            ExampleUtils.check_data_file(pipeline, logger)</div><div class="c-code__line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="c-code__keywordflow">if</span> (ExampleUtils.get_data_file_tier(pipeline.get_element(<span class="c-code__stringliteral">&quot;device&quot;</span>)) == <span class="c-code__stringliteral">&quot;Lite&quot;</span>):</div><div class="c-code__line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                logger.log(<span class="c-code__stringliteral">&quot;error&quot;</span>,</div><div class="c-code__line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <span class="c-code__stringliteral">&quot;Will not download an &#39;Enterprise&#39; data file over the top of &quot;</span></div><div class="c-code__line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <span class="c-code__stringliteral">&quot;a &#39;Lite&#39; data file, please supply another location.&quot;</span>)</div><div class="c-code__line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="c-code__keywordflow">raise</span> Exception(<span class="c-code__stringliteral">&quot;File supplied has wrong data tier&quot;</span>)</div><div class="c-code__line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            logger.log(<span class="c-code__stringliteral">&quot;info&quot;</span>, <span class="c-code__stringliteral">&quot;Existing data file will be replaced with downloaded data file&quot;</span>)</div><div class="c-code__line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            logger.log(<span class="c-code__stringliteral">&quot;info&quot;</span>, f<span class="c-code__stringliteral">&quot;Existing data file will be copied to {copy_data_file_name}&quot;</span>)</div><div class="c-code__line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="c-code__line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="c-code__comment"># do we really want to do this</span></div><div class="c-code__line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="c-code__keywordflow">if</span> (interactive):</div><div class="c-code__line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            output(<span class="c-code__stringliteral">&quot;Please note - this example will use available downloads &quot;</span></div><div class="c-code__line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <span class="c-code__stringliteral">&quot;in your licensed allocation.&quot;</span>)</div><div class="c-code__line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            user_input = input(<span class="c-code__stringliteral">&quot;Do you wish to continue with this example (y)? &quot;</span>)</div><div class="c-code__line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="c-code__keywordflow">if</span> (user_input == <span class="c-code__keywordtype">None</span> <span class="c-code__keywordflow">or</span> user_input == <span class="c-code__stringliteral">&quot;&quot;</span> <span class="c-code__keywordflow">or</span> user_input.startswith(<span class="c-code__stringliteral">&quot;y&quot;</span>) == <span class="c-code__keyword">False</span>):</div><div class="c-code__line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                logger.log(<span class="c-code__stringliteral">&quot;info&quot;</span>, <span class="c-code__stringliteral">&quot;Stopping example without download&quot;</span>)</div><div class="c-code__line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="c-code__keywordflow">return</span></div><div class="c-code__line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="c-code__line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        logger.log(<span class="c-code__stringliteral">&quot;info&quot;</span>, <span class="c-code__stringliteral">&quot;Checking file exists&quot;</span>)</div><div class="c-code__line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="c-code__keywordflow">if</span> os.path.exists(data_file):</div><div class="c-code__line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            logger.log(<span class="c-code__stringliteral">&quot;info&quot;</span>, f<span class="c-code__stringliteral">&quot;Existing data file copied to {copy_data_file_name}&quot;</span>)</div><div class="c-code__line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            shutil.copy(data_file, copy_data_file_name)</div><div class="c-code__line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="c-code__line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        logger.log(<span class="c-code__stringliteral">&quot;info&quot;</span>,</div><div class="c-code__line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="c-code__stringliteral">&quot;Creating pipeline and initiating update on start-up - please wait for that &quot;</span></div><div class="c-code__line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="c-code__stringliteral">&quot;to complete&quot;</span>)</div><div class="c-code__line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="c-code__line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        update_event = UpdateEvent()</div><div class="c-code__line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        update_service = DataFileUpdateService()</div><div class="c-code__line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        update_service.on_complete(<span class="c-code__keyword">lambda</span> status, file: update_event.set(status))</div><div class="c-code__line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="c-code__line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="c-code__comment"># Build the device detection pipeline  and pass in the desired settings to configure</span></div><div class="c-code__line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="c-code__comment"># automatic updates.</span></div><div class="c-code__line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        pipeline = DeviceDetectionPipelineBuilder(</div><div class="c-code__line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="c-code__comment"># specify the filename for the data file. When using update on start-up</span></div><div class="c-code__line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="c-code__comment"># the file need not exist, but the directory it is in must exist.</span></div><div class="c-code__line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="c-code__comment"># Any file that is present is overwritten. Because the file will be</span></div><div class="c-code__line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="c-code__comment"># overwritten the pipeline must be configured to copy the supplied</span></div><div class="c-code__line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="c-code__comment"># file to a temporary file (create_temp_copy parameter == True).</span></div><div class="c-code__line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            data_file_path = data_file,</div><div class="c-code__line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            create_temp_copy = <span class="c-code__keyword">True</span>,</div><div class="c-code__line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="c-code__comment"># pass in the update listener which has been configured</span></div><div class="c-code__line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="c-code__comment"># to notify when update complete</span></div><div class="c-code__line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            data_file_update_service = update_service,</div><div class="c-code__line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="c-code__comment"># For automatic updates to work you will need to provide a license key.</span></div><div class="c-code__line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="c-code__comment"># A license key can be obtained with a subscription from https://51degrees.com/pricing</span></div><div class="c-code__line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            licence_keys = license_key,</div><div class="c-code__line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="c-code__comment"># Enable update on startup, the auto update system</span></div><div class="c-code__line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="c-code__comment"># will be used to check for an update before the</span></div><div class="c-code__line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="c-code__comment"># device detection engine is created. This will block</span></div><div class="c-code__line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="c-code__comment"># creation of the pipeline.</span></div><div class="c-code__line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            update_on_start = <span class="c-code__keyword">True</span>,</div><div class="c-code__line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="c-code__comment"># Enable automatic updates once the pipeline has started</span></div><div class="c-code__line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            auto_update = <span class="c-code__keyword">True</span>,</div><div class="c-code__line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="c-code__comment"># Watch the data file on disk and refresh the engine</span></div><div class="c-code__line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="c-code__comment"># as soon as that file is updated.</span></div><div class="c-code__line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            file_system_watcher = <span class="c-code__keyword">True</span></div><div class="c-code__line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            ).add_logger(logger).<a class="code" href="namespacebuild.html">build</a>()</div><div class="c-code__line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="c-code__line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="c-code__line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="c-code__comment"># thread blocks till update checking is complete - or if there is an</span></div><div class="c-code__line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="c-code__comment"># exception we don&#39;t get this far</span></div><div class="c-code__line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        update_event.wait()</div><div class="c-code__line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        output(f<span class="c-code__stringliteral">&quot;Update on start-up complete - status - {update_event.status}&quot;</span>)</div><div class="c-code__line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="c-code__line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="c-code__keywordflow">if</span> update_event.status == UpdateStatus.AUTO_UPDATE_SUCCESS:</div><div class="c-code__line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="c-code__line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            output(<span class="c-code__stringliteral">&quot;Modifying downloaded file to trigger reload - please wait for that&quot;</span></div><div class="c-code__line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="c-code__stringliteral">&quot; to complete&quot;</span>)</div><div class="c-code__line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="c-code__line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="c-code__comment"># wait for the dataUpdateService to notify us that it has updated</span></div><div class="c-code__line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            update_event.clear()</div><div class="c-code__line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="c-code__line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="c-code__comment"># it&#39;s the same file but changing the file metadata will trigger reload,</span></div><div class="c-code__line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="c-code__comment"># demonstrating that if you download a new file and replace the</span></div><div class="c-code__line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="c-code__comment"># existing one, then it will be loaded</span></div><div class="c-code__line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            now = datetime.now().timestamp()</div><div class="c-code__line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="c-code__keywordflow">try</span>:</div><div class="c-code__line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                os.utime(data_file, (now, now))</div><div class="c-code__line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="c-code__keywordflow">except</span>:</div><div class="c-code__line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="c-code__keywordflow">raise</span> Exception(<span class="c-code__stringliteral">&quot;Could not modify file time, abandoning &quot;</span></div><div class="c-code__line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    <span class="c-code__stringliteral">&quot;example&quot;</span>)</div><div class="c-code__line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="c-code__line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="c-code__keywordflow">if</span> update_event.wait(120):</div><div class="c-code__line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                output(f<span class="c-code__stringliteral">&quot;Update on file modification complete, status: {update_event.status}&quot;</span>)</div><div class="c-code__line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="c-code__keywordflow">else</span>:</div><div class="c-code__line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                output(<span class="c-code__stringliteral">&quot;Update on file modification timed out&quot;</span>)</div><div class="c-code__line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="c-code__keywordflow">else</span>:</div><div class="c-code__line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            logger.log(<span class="c-code__stringliteral">&quot;error&quot;</span>, <span class="c-code__stringliteral">&quot;Auto update was not successful, abandoning example&quot;</span>)</div><div class="c-code__line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            error_message = f<span class="c-code__stringliteral">&quot;Auto update failed: {update_event.status}&quot;</span></div><div class="c-code__line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="c-code__keywordflow">if</span> update_event.status == UpdateStatus.AUTO_UPDATE_ERR_429_TOO_MANY_ATTEMPTS:</div><div class="c-code__line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                output(error_message)</div><div class="c-code__line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="c-code__keywordflow">else</span>:</div><div class="c-code__line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="c-code__keywordflow">raise</span> Exception(error_message)</div><div class="c-code__line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="c-code__line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        output(<span class="c-code__stringliteral">&quot;Finished Example&quot;</span>)</div><div class="c-code__line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="c-code__line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="c-code__line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="c-code__keyword">def </span><a class="code" href="namespacefiftyone__devicedetection__examples_1_1cloud_1_1configurator__console.html#a31f39d9a32101ea67a5ee9b028ebd760">main</a>(argv):</div><div class="c-code__line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="c-code__comment"># Use the supplied path for the data file or find the lite</span></div><div class="c-code__line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="c-code__comment"># file that is included in the repository.</span></div><div class="c-code__line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    license_key = argv[0] <span class="c-code__keywordflow">if</span> len(argv) &gt; 0 <span class="c-code__keywordflow">else</span> <span class="c-code__keywordtype">None</span></div><div class="c-code__line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    data_file = argv[1] <span class="c-code__keywordflow">if</span> len(argv) &gt; 1 <span class="c-code__keywordflow">else</span> <span class="c-code__keywordtype">None</span></div><div class="c-code__line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="c-code__line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="c-code__comment"># Configure a logger to output to the console.</span></div><div class="c-code__line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    logger = Logger(min_level=<span class="c-code__stringliteral">&quot;info&quot;</span>)</div><div class="c-code__line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="c-code__line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    DataFileUpdateConsole().<a class="code" href="namespacefiftyone__devicedetection__examples_1_1onpremise_1_1performance.html#a78b63f027c93544e4a7174f8b56d0a03">run</a>(data_file, license_key, <span class="c-code__keyword">True</span>, logger, <span class="c-code__keywordflow">print</span>)</div><div class="c-code__line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="c-code__line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="c-code__keywordflow">if</span> __name__ == <span class="c-code__stringliteral">&quot;__main__&quot;</span>:</div><div class="c-code__line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="namespacefiftyone__devicedetection__examples_1_1cloud_1_1configurator__console.html#a31f39d9a32101ea67a5ee9b028ebd760">main</a>(sys.argv[1:])</div></div> </div><!-- primary -->
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
